{
  "version": 3,
  "sources": ["../scripts/UIKeyValueStringFilterWebWorker.worker.ts"],
  "sourcesContent": ["\n// @ts-check\n\nif (\"contains\" in Array.prototype == false) {\n    \n    // @ts-ignore\n    Array.prototype.contains = function (element) {\n        \n        var result = (this.indexOf(element) != -1);\n        return result;\n        \n    }\n    \n}\n\nif (\"contains\" in String.prototype == false) {\n    \n    // @ts-ignore\n    String.prototype.contains = function (string) {\n        \n        var result = (this.indexOf(string) != -1);\n        return result;\n        \n    }\n    \n}\n\n\n\n\n\nonmessage = function (event) {\n    \n    //console.log('Message received from main script');\n    var workerResult = filterKeyValuePathData(event.data.filteringString, event.data.data, event.data.excludedData, event.data.dataKeyPath);\n    \n    // @ts-ignore\n    workerResult.identifier = event.data.identifier;\n    // @ts-ignore\n    workerResult.instanceIdentifier = event.data.instanceIdentifier;\n    \n    \n    // @ts-ignore\n    postMessage(workerResult);\n    \n}\n\n\n\n\n\n\n\n\n\nfunction filterKeyValuePathData(filteringString, data, excludedData, dataKeyPath) {\n    \n    function valueForKeyPath(keyPath, object) {\n        \n        var keys = keyPath.split(\".\");\n        var currentObject = object;\n        \n        keys.forEach(function (key, index, array) {\n            currentObject = currentObject[key];\n        })\n        \n        return currentObject;\n        \n    }\n    \n    var filteredData = [];\n    var filteredIndexes = [];\n\n    if (filteringString) {\n\n        var filteringStringWords = [];\n        filteringString.split(\" \").forEach(function (word, index, array) {\n            if (word) {\n                filteringStringWords.push(word.toLowerCase());\n            }\n        })\n        \n        data.forEach(function (dataObject, index, array) {\n\n            var dataString = valueForKeyPath(dataKeyPath, dataObject);\n            \n            var lowercaseDataString = dataString.toLowerCase();\n            \n            // Look through all the words in the input\n            var wordsFound = [];\n            filteringStringWords.forEach(function (word) {\n                wordsFound.push(lowercaseDataString.contains(word) && !excludedData.contains(dataString));\n            })\n\n            // Only show the dataString if it matches all of them\n            // @ts-ignore\n            if (wordsFound.contains(true) && !wordsFound.contains(false)) {\n                \n                filteredData.push(dataObject);\n                filteredIndexes.push(index);\n                \n            }\n\n        })\n\n        \n\n    }\n    else if (excludedData.length) {\n\n        \n        filteredData = data.forEach(function (dataObject, index, array) {\n            \n            if (excludedData.indexOf(dataObject) == -1) {\n                \n                filteredData.push(dataObject);\n                filteredIndexes.push(index);\n                \n            }\n            \n        })\n\n    }\n    else {\n\n        filteredData = data;\n        \n        data.forEach(function (object, index, array) {\n            \n            filteredIndexes.push(index);\n            \n        })\n\n    }\n\n    \n    \n    return { \"filteredData\": filteredData, \"filteredIndexes\": filteredIndexes };\n    \n    \n\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],
  "mappings": "AAGA,IAAI,cAAc,MAAM,aAAa,OAAO;AAGxC,QAAM,UAAU,WAAW,SAAU,SAAS;AAE1C,QAAI,SAAU,KAAK,QAAQ,OAAO,KAAK;AACvC,WAAO;AAAA,EAEX;AAEJ;AAEA,IAAI,cAAc,OAAO,aAAa,OAAO;AAGzC,SAAO,UAAU,WAAW,SAAU,QAAQ;AAE1C,QAAI,SAAU,KAAK,QAAQ,MAAM,KAAK;AACtC,WAAO;AAAA,EAEX;AAEJ;AAMA,YAAY,SAAU,OAAO;AAGzB,MAAI,eAAe,uBAAuB,MAAM,KAAK,iBAAiB,MAAM,KAAK,MAAM,MAAM,KAAK,cAAc,MAAM,KAAK,WAAW;AAGtI,eAAa,aAAa,MAAM,KAAK;AAErC,eAAa,qBAAqB,MAAM,KAAK;AAI7C,cAAY,YAAY;AAE5B;AAUA,SAAS,uBAAuB,iBAAiB,MAAM,cAAc,aAAa;AAE9E,WAAS,gBAAgB,SAAS,QAAQ;AAEtC,QAAI,OAAO,QAAQ,MAAM,GAAG;AAC5B,QAAI,gBAAgB;AAEpB,SAAK,QAAQ,SAAU,KAAK,OAAO,OAAO;AACtC,sBAAgB,cAAc;AAAA,IAClC,CAAC;AAED,WAAO;AAAA,EAEX;AAEA,MAAI,eAAe,CAAC;AACpB,MAAI,kBAAkB,CAAC;AAEvB,MAAI,iBAAiB;AAEjB,QAAI,uBAAuB,CAAC;AAC5B,oBAAgB,MAAM,GAAG,EAAE,QAAQ,SAAU,MAAM,OAAO,OAAO;AAC7D,UAAI,MAAM;AACN,6BAAqB,KAAK,KAAK,YAAY,CAAC;AAAA,MAChD;AAAA,IACJ,CAAC;AAED,SAAK,QAAQ,SAAU,YAAY,OAAO,OAAO;AAE7C,UAAI,aAAa,gBAAgB,aAAa,UAAU;AAExD,UAAI,sBAAsB,WAAW,YAAY;AAGjD,UAAI,aAAa,CAAC;AAClB,2BAAqB,QAAQ,SAAU,MAAM;AACzC,mBAAW,KAAK,oBAAoB,SAAS,IAAI,KAAK,CAAC,aAAa,SAAS,UAAU,CAAC;AAAA,MAC5F,CAAC;AAID,UAAI,WAAW,SAAS,IAAI,KAAK,CAAC,WAAW,SAAS,KAAK,GAAG;AAE1D,qBAAa,KAAK,UAAU;AAC5B,wBAAgB,KAAK,KAAK;AAAA,MAE9B;AAAA,IAEJ,CAAC;AAAA,EAIL,WACS,aAAa,QAAQ;AAG1B,mBAAe,KAAK,QAAQ,SAAU,YAAY,OAAO,OAAO;AAE5D,UAAI,aAAa,QAAQ,UAAU,KAAK,IAAI;AAExC,qBAAa,KAAK,UAAU;AAC5B,wBAAgB,KAAK,KAAK;AAAA,MAE9B;AAAA,IAEJ,CAAC;AAAA,EAEL,OACK;AAED,mBAAe;AAEf,SAAK,QAAQ,SAAU,QAAQ,OAAO,OAAO;AAEzC,sBAAgB,KAAK,KAAK;AAAA,IAE9B,CAAC;AAAA,EAEL;AAIA,SAAO,EAAE,gBAAgB,cAAc,mBAAmB,gBAAgB;AAI9E;",
  "names": []
}
